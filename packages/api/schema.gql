# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type Analysis {
  id: ID!
  name: String!
  chartType: [ChartType!]!
  metrics: [Metric!]!
}

enum ChartType {
  MARKER
  LINE
}

type DataPoint implements IDataPoint {
  id: ID!
  metric: Metric!
  datetime: DateTime!
}

input DataPointInput {
  rating: Float
}

union DataPointUnion = DataPoint | RatingDataPoint

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

interface IDataPoint {
  id: ID!
  metric: Metric!
  datetime: DateTime!
}

type Metric {
  id: ID!
  name: String!
  datetime: DateTime!
  dataPoints: [DataPointUnion!]!
  type: MetricType!
  analyses: [Analysis!]!
}

input MetricInput {
  name: String!
}

enum MetricType {
  DataPoint
  RatingDataPoint
}

type Mutation {
  createAnalysis(metricIds: [ID!]!, name: String!): Analysis!
  recordDataPoint(data: DataPointInput, metricId: String!): Metric!
  createMetric(type: String, name: String!): Metric!
  updateMetric(metricInput: MetricInput!, id: String!): Metric!
  deleteMetric(id: String!): Metric
}

type Query {
  allAnalyses: [Analysis!]!
  getAnalysisWithData(id: String!): Analysis!
  allMetrics: [Metric!]!
  metricById(id: String!): Metric!
}

type RatingDataPoint implements IDataPoint {
  id: ID!
  metric: Metric!
  datetime: DateTime!
  rating: Float!
}
